---
title: ğŸ§  6/15ï½œAgent çš„å†³ç­–å¼•æ“ï¼šReAct / Self-Ask / Tree of Thoughts æ·±åº¦è§£æ
date: 2025-12-05 18:00:00
series: LLM/Agent æ ¸å¿ƒæ¦‚å¿µä¸æ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹æŒ‡å—
categories:
  - æŠ€æœ¯å­¦ä¹ ä¸è¡Œä¸šè¶‹åŠ¿
  - AIä¸ç ”ç©¶
tags:
  - LLM
  - Agent
  - ReAct
  - Self-Ask
  - Tree-of-Thoughts
  - å†³ç­–å¼•æ“
  - æ€ç»´é“¾
keywords: LLM, Agent, ReAct, Self-Ask, Tree-of-Thoughts, ToT, å†³ç­–å¼•æ“, æ€ç»´é“¾, CoT, ä»»åŠ¡è§„åˆ’
description: 'æ·±å…¥è§£æ Agent çš„å†³ç­–å¼•æ“ï¼šå¯¹æ¯” ReActã€Self-Ask å’Œ Tree of Thoughts ä¸‰å¤§ç­–ç•¥ï¼ŒæŒæ¡å¦‚ä½•èµ‹äºˆ Agent å¼ºå¤§çš„æ¨ç†ä¸å†³ç­–èƒ½åŠ›'
top_img: /img/llm-agent-decision-engine.png
cover: /img/llm-agent-decision-engine.png
comments: true
toc: true
toc_number: true
toc_style_simple: false
copyright: true
copyright_author: yuxiaoling
copyright_info: ç‰ˆæƒæ‰€æœ‰ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
mathjax: false
katex: false
aplayer: false
highlight_shrink: false
aside: true
noticeOutdate: false
---

> **è¿™æ˜¯ã€ŠLLM/Agent æ ¸å¿ƒçŸ¥è¯†ä½“ç³»ã€‹ç³»åˆ—ç¬¬ 6 ç¯‡**

> ä¸Šä¸€ç¯‡æˆ‘ä»¬ç³»ç»Ÿç†è§£äº† Agent çš„æœ¬è´¨ï¼Œæ­ç§˜äº† LLM å¦‚ä½•è¿›åŒ–ä¸ºå…·æœ‰"è¡ŒåŠ¨èƒ½åŠ›"çš„æ™ºèƒ½ä½“ã€‚

> æœ¬ç¯‡ï¼Œæˆ‘ä»¬å°†æ·±å…¥ Agent çš„"å†³ç­–å¼•æ“"ï¼Œåˆ†æ ReActã€Self-Ask å’Œ Tree of Thoughts ç­‰é«˜çº§ç­–ç•¥ï¼ŒæŒæ¡å¦‚ä½•èµ‹äºˆ Agent å¼ºå¤§çš„æ¨ç†ä¸å†³ç­–èƒ½åŠ›ã€‚

---

## ğŸš€ å¯¼è¨€ â€” ä»"æ€è€ƒ"åˆ°"è¡ŒåŠ¨"çš„é£è·ƒ

ä¸Šä¸€ç¯‡ä¸­ï¼Œæˆ‘ä»¬äº†è§£äº† Agent é€šè¿‡ **Thoughtï¼ˆæ€è€ƒï¼‰**ã€**Actionï¼ˆè¡ŒåŠ¨ï¼‰** å’Œ **Observationï¼ˆè§‚å¯Ÿï¼‰** çš„å¾ªç¯ï¼ˆReAct èŒƒå¼ï¼‰å®ç°è‡ªä¸»æ€§ã€‚ä½†é«˜è´¨é‡çš„æ€è€ƒæ˜¯å¦‚ä½•ç”Ÿæˆçš„å‘¢ï¼Ÿ

æœ¬ç¯‡å°†æ·±å…¥è§£æä¸»æµçš„ **ä»»åŠ¡è§„åˆ’ä¸å†³ç­–æœºåˆ¶**ï¼Œé‡ç‚¹å¯¹æ¯” **ReAct**ã€**Self-Ask** ä¸æ›´é«˜çº§çš„ **Tree of Thoughts (ToT)**ï¼Œå¹¶ç»“åˆ Prompt è®¾è®¡ç­–ç•¥ï¼Œå±•ç¤ºå¦‚ä½•èµ‹äºˆ Agent å¼ºå¤§çš„æ¨ç†ä¸å†³ç­–èƒ½åŠ›ã€‚

---

## ä¸€ã€ReAct èŒƒå¼ï¼šAgent å†³ç­–çš„åŸºçŸ³

**ReAct (Reasoning and Acting)** å°† **æ€ç»´é“¾ (CoT)** ä¸ **å·¥å…·è°ƒç”¨** èåˆï¼Œå®ç°å¯è§£é‡Šã€è¿­ä»£å¼çš„å†³ç­–æµç¨‹ã€‚

### 1.1 ReAct Prompt æ¨¡æ¿æ‹†è§£

ReAct çš„æ ¸å¿ƒåœ¨äºç»“æ„åŒ–è¾“å‡ºï¼Œä½¿ LLM åœ¨å¾ªç¯ä¸­æ˜¾å¼ç”Ÿæˆ Thought â†’ Action â†’ Observationï¼š

| è¾“å‡ºæ ‡ç­¾            | åŠŸèƒ½                          | Agent é˜¶æ®µ         | ä»·å€¼                   |
| --------------- | --------------------------- | ---------------- | -------------------- |
| **Thought**     | åˆ†æçŠ¶æ€ã€è¯„ä¼° Observationã€ç”Ÿæˆä¸‹ä¸€æ­¥ç›®æ ‡ | Planning (è§„åˆ’)    | å¯è§£é‡Šæ€§ï¼›è‡ªæˆ‘ä¿®æ­£èƒ½åŠ›          |
| **Action**      | é€‰æ‹©å·¥å…· / API å¹¶ç”Ÿæˆå‚æ•°            | Acting (è¡ŒåŠ¨)      | ç»“æ„åŒ–æ‰§è¡Œï¼›é©±åŠ¨ Executor è°ƒç”¨ |
| **Observation** | å·¥å…·æ‰§è¡Œç»“æœ / ç¯å¢ƒåé¦ˆ               | Observation (æ„ŸçŸ¥) | é©±åŠ¨ä¸‹ä¸€è½® Thoughtï¼›æ”¯æŒè¿­ä»£   |

### 1.2 ReAct çš„ä¼˜åŠ¿ä¸å±€é™

**ä¼˜åŠ¿ï¼š**

* **é«˜å¯æ§æ€§**ï¼šç»“æ„åŒ–è¾“å‡ºæ˜“è§£æå’Œæ‰§è¡Œ

* **è¿­ä»£ä¿®æ­£**ï¼šå·¥å…·æ‰§è¡Œå¤±è´¥å¯åœ¨ä¸‹ä¸€ Thought ä¸­è‡ªæˆ‘ä¿®æ­£

* **é€šç”¨æ€§**ï¼šé€‚ç”¨äºå¤§å¤šæ•°å¤šæ­¥ä»»åŠ¡

**å±€é™ï¼š**

* **å±€éƒ¨æœ€ä¼˜**ï¼šæ¯æ­¥åŸºäºå½“å‰çŠ¶æ€åšæœ€ä¼˜é€‰æ‹©ï¼Œå¯èƒ½é”™è¿‡æ›´ä¼˜é•¿æœŸè·¯å¾„

* **å•åˆ†æ”¯æ¢ç´¢**ï¼šæ— æ³•è‡ªç„¶å¤„ç†å¤šåˆ†æ”¯æ€è€ƒæˆ–é«˜åº¦ä¸ç¡®å®šä»»åŠ¡

---

## äºŒã€Self-Askï¼šè§£å†³ä¿¡æ¯ä¾èµ–é—®é¢˜

Self-Ask æ˜¯ CoT çš„å˜ä½“ï¼Œä¸“é—¨è§£å†³ **å¤šæ­¥ä¿¡æ¯æ£€ç´¢**é—®é¢˜ã€‚

### 2.1 Self-Ask æœºåˆ¶è¯¦è§£

* **åŸç†**ï¼šå½“é—®é¢˜æ— æ³•ç›´æ¥å›ç­”ï¼ŒAgent ä¼šå°†é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ª **å­é—®é¢˜**ï¼Œé€æ­¥æ£€ç´¢ç­”æ¡ˆ

* **Prompt æ¨¡æ¿ç¤ºä¾‹ï¼š**

```text

Did I need to search for a new fact? [Yes/No]

Intermediate Answer: [å­é—®é¢˜]

[æœç´¢ç»“æœ/ç­”æ¡ˆ]

```

* **å¯¹æ¯” ReAct**ï¼š

  * ReAct åå‘ **æ‰§è¡Œæ€§å·¥å…·è°ƒç”¨**ï¼ˆAPIã€è„šæœ¬ï¼‰

  * Self-Ask åå‘ **ä¿¡æ¯æ£€ç´¢**ï¼ˆæœç´¢å¼•æ“ã€RAGï¼‰

### 2.2 ReAct + Self-Ask èåˆç­–ç•¥

åœ¨å¤æ‚ Agent æ¡†æ¶ä¸­ï¼Œå¸¸ç»“åˆä¸¤è€…ï¼š

* **ä¿¡æ¯æ£€ç´¢é˜¶æ®µ**ï¼šä½¿ç”¨ Self-Askï¼Œç¡®ä¿é—®é¢˜æ‰€éœ€ä¿¡æ¯å®Œå¤‡

* **æ‰§è¡Œé˜¶æ®µ**ï¼šåˆ‡æ¢åˆ° ReActï¼Œè°ƒç”¨å·¥å…·æˆ–æ“ä½œç³»ç»Ÿ / API

---

## ä¸‰ã€Tree of Thoughts (ToT)ï¼šæ·±åº¦æ¢ç´¢ä¸å¤šè·¯å¾„å†³ç­–

ToTï¼ˆæ€ç»´æ ‘ï¼‰æ¨¡ä»¿äººç±»æ·±åº¦æ€è€ƒä¸å¤šè·¯å¾„æ¢ç´¢ï¼Œé€‚åˆå¤„ç†å¤æ‚ã€ä¸ç¡®å®šæ€§é«˜çš„ä»»åŠ¡ã€‚

### 3.1 ToT æ ¸å¿ƒåŸç†

* **çŠ¶æ€ç©ºé—´æœç´¢**ï¼šæ¯æ­¥ç”Ÿæˆå¤šä¸ªå€™é€‰ Thought (3-5 ä¸ª)ï¼Œå½¢æˆåˆ†æ”¯

* **æ ‘å½¢ç»“æ„**ï¼šåˆ†æ”¯æ„æˆæ€ç»´æ ‘ï¼Œæ¢ç´¢å¤šç§å¯èƒ½æ–¹æ¡ˆ

* **è¯„ä¼°ä¸å‰ªæ**ï¼šEvaluator å¯¹åˆ†æ”¯å¯è¡Œæ€§ (Feasibility) ä¸è¿›å±• (Progress) è¯„åˆ†ï¼Œä½è´¨é‡åˆ†æ”¯è¢«å‰ªæ

| ç­–ç•¥    | æœç´¢æ·±åº¦   | æœç´¢å¹¿åº¦    | é€‚ç”¨åœºæ™¯           |
| ----- | ------ | ------- | -------------- |
| CoT   | 1 (å•é“¾) | 1 (è´ªå©ª)  | ç®€å•æ¨ç†ã€é—®ç­”        |
| ReAct | N (è¿­ä»£) | 1 (è´ªå©ª)  | å¤šæ­¥ä»»åŠ¡ã€å·¥å…·è°ƒç”¨      |
| ToT   | N (è¿­ä»£) | M (å¤šåˆ†æ”¯) | å¤æ‚è§„åˆ’ã€åˆ›æ„ç”Ÿæˆã€ä»£ç è°ƒè¯• |

### 3.2 ToT å®ç°æŒ‘æˆ˜

1. **é«˜è®¡ç®—æˆæœ¬**ï¼šå¤šåˆ†æ”¯ç”Ÿæˆä¸è¯„ä¼°éœ€å¤§é‡ Token / LLM è°ƒç”¨

2. **Evaluator è®¾è®¡éš¾åº¦**ï¼šéœ€è¦å‡†ç¡®è¯„ä¼°åˆ†æ”¯è´¨é‡ä¸æ½œåŠ›

3. **å†…å­˜ä¸ä¸Šä¸‹æ–‡ç®¡ç†**ï¼šéœ€è·Ÿè¸ªæ ‘å½¢ç»“æ„ä¸­æ¯ä¸ªåˆ†æ”¯çš„çŠ¶æ€ä¸ä¸Šä¸‹æ–‡

> **åè¯å¡ç‰‡**

>

> * **Greedy Searchï¼ˆè´ªå©ªæœç´¢ï¼‰**ï¼šæ¯æ­¥é€‰æ‹©å½“å‰æœ€ä¼˜è·¯å¾„

> * **State Space Searchï¼ˆçŠ¶æ€ç©ºé—´æœç´¢ï¼‰**ï¼šåœ¨æ‰€æœ‰ Thought-Action ç»„åˆä¸­å¯»æ‰¾æœ€ä¼˜è§£

> * **Pruningï¼ˆå‰ªæï¼‰**ï¼šç§»é™¤ä½è´¨é‡åˆ†æ”¯ï¼ŒèŠ‚çœèµ„æº

---

## ğŸ” æ€»ç»“ï¼šå†³ç­–å¼•æ“æ˜¯ Agent çš„æ ¸å¿ƒçµé­‚

* **ReAct**ï¼šç¨³å®šåŸºç¡€ï¼Œé€‚åˆå¤šæ­¥å·¥å…·è°ƒç”¨ä»»åŠ¡

* **Self-Ask**ï¼šè§£å†³ä¿¡æ¯æ£€ç´¢ä¾èµ–é—®é¢˜

* **ToT**ï¼šå¤„ç†å¤æ‚ã€é«˜ä¸ç¡®å®šæ€§ä»»åŠ¡ï¼Œæ¢ç´¢å¤šç§è§£å†³æ–¹æ¡ˆ

åœ¨è®¾è®¡ Agent æ—¶ï¼Œæ ¹æ®ä»»åŠ¡å¤æ‚åº¦å’Œè®¡ç®—é¢„ç®—é€‰æ‹©é€‚åˆçš„ç­–ç•¥å³å¯ã€‚

---

## ğŸ“š çŸ¥è¯†æ¥æºä¸è¿›é˜¶é˜…è¯»ï¼ˆå¸¦é“¾æ¥ï¼‰

| ä¸»é¢˜                   | é“¾æ¥                                                                                                                                                                         |
| -------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Tree of Thoughts** | [Tree of Thoughts: Deliberate Problem Solving with LLMs (Princeton / Google 2023)](https://arxiv.org/abs/2305.10601)                                                       |
| **Self-Ask**         | [Self-Ask: Empowering LLMs to Ask Clarification Questions (Google 2023)](https://arxiv.org/abs/2305.08923)                                                                 |
| **ReAct Prompt æ¨¡æ¿**  | [LangChain ReAct Examples](https://www.langchain.com/docs/use-cases/react/) / [LlamaIndex Agent Examples](https://gpt-index.readthedocs.io/en/latest/use_cases/agent.html) |
| **Evaluator / åˆ†æ”¯è¯„åˆ†** | [LLM Heuristic Evaluation for Planning (Survey)](https://arxiv.org/abs/2310.12345)                                                                                         |

---

## ğŸ”” ä¸‹ä¸€ç¯‡é¢„å‘Š

å†³ç­–å¼•æ“å†³å®šäº† Agent "å¦‚ä½•æ€è€ƒ"ï¼Œä½† Agent è¿˜éœ€"è®°ä½å†å²ä¸å¤–éƒ¨çŠ¶æ€"ã€‚

ä¸‹ä¸€ç¯‡å°†æ·±å…¥ **Agent çš„è®°å¿†ç³»ç»Ÿ**ï¼Œæ¢è®¨å¦‚ä½•çªç ´ Context Window é™åˆ¶ï¼Œå®ç°é•¿æœŸä¸”è¿è´¯çš„è®°å¿†ã€‚

**ç¬¬ 7 ç¯‡æ ‡é¢˜ï¼ˆæš‚å®šï¼‰ï¼š**

### ã€ŠAgent è®°å¿†ç®¡ç†ï¼šæ‰“é€ é•¿æœŸä¸”å¥å¿˜çš„æ™ºèƒ½ä½“ã€‹

